
<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <!--[if lte IE 8]>
      <script type="text/javascript">
        var tags = ['header', 'footer', 'nav', 'aside', 'article', 'section', 'object', 'main'];
        for (var i in tags) {
          document.createElement(tags[i]);
        }
      </script>
    <![endif]-->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS动画</title>
    <!-- font -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" />
    <!-- js -->
    <script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
    <!-- css -->
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/icon.css" />
    <link rel="stylesheet" href="/katex/katex.min.css" />
     
    <link rel="stylesheet" href="/css/index.css" />
     
  <meta name="generator" content="Hexo 5.4.1"></head>

  <body>
    <!-- header -->
    <header class="header">
  <div class="logo">
    <!-- logo -->
    <div class="logo-wrap">
      <a href="/" id="logo"></a>
    </div>
  </div>
  <nav class="nav" id="top-nav">
    <ul>
      
        <li>
          <a class="" href="/">主页</a>
        </li>
      
        <li>
          <a class="" href="/categories">分类</a>
        </li>
      
        <li>
          <a class="" href="/tags">标签</a>
        </li>
      
        <li>
          <a class="" href="/archives">归档</a>
        </li>
      
      <!-- search -->
      
    </ul>
  </nav>
</header>


  
    <!-- main -->
    <main id="main" class="main">
      <!-- post -->

<div class="post show-toc">
  <!-- table of content -->
  
    <div class="post-toc">
      <div class="post-toc-content">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#transition"><span class="toc-text"> transition</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#transition-property"><span class="toc-text"> transition-property</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transition-timing-function"><span class="toc-text"> transition-timing-function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transition-delay"><span class="toc-text"> transition-delay</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#animation"><span class="toc-text"> animation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#keyframes"><span class="toc-text"> @keyframes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-2"><span class="toc-text"> animation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-timing-function"><span class="toc-text"> animation-timing-function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-iteration-count"><span class="toc-text"> animation-iteration-count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-delay"><span class="toc-text"> animation-delay</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-direction"><span class="toc-text"> animation-direction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-fill-mode"><span class="toc-text"> animation-fill-mode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#animation-play-state"><span class="toc-text"> animation-play-state</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%8A%A8%E7%94%BB"><span class="toc-text"> 常用动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%A0%8F%E5%8F%98%E5%AE%BD"><span class="toc-text"> 搜索栏变宽</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#animatecss"><span class="toc-text"> animate.css</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%BD%E5%85%A5%E5%8A%A8%E7%94%BB%E5%BA%93"><span class="toc-text"> 载入动画库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%8A%A8%E7%94%BB"><span class="toc-text"> 添加动画</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-text"> 参考</span></a></li></ol>
      </div>
    </div>
  
  <!-- table of content end-->
  <!-- article -->
  <div class="cell">
    <article class="article">
      <!-- title -->
      
          <h1  class="title">CSS动画</h1> 
      
      <div class="post-meta">
        <!-- time -->
        
          <span class="icon-baseline-query_builder-24px"></span>
          <time datetime="2017-12-15T09:56:00.000Z">
            2017-12-15
          </time>
        
        <!-- categories -->
        <!--
          <span class="icon-baseline-work_outline-24px"></span>
          
            <a href="/categories/CSS/">
              <span>CSS</span>
            </a>
          
        -->
        <!-- categories end -->
        <!-- tag -->
        <span class="icon-baseline-subtitles-24px"></span>
        
          <a href="/tags/CSS/">
            <span>CSS</span>
          </a>
        
          <a href="/tags/transition/">
            <span>transition</span>
          </a>
        
          <a href="/tags/keyframes/">
            <span>keyframes</span>
          </a>
        
      </div>
      <!-- content -->
      <div class="article-content">
      <h2 id="transition"><a class="markdownIt-Anchor" href="#transition"></a> transition</h2>
<p>transition: property duration timing-function delay,property2...;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//宽度 变化时间1s,背景颜色 变化时间0.5s 匀速变化 延迟1s执行</span><br><span class="line">transition: width 1s,background 0.5s linear 1s;</span><br></pre></td></tr></table></figure>
<p>transition用于设置元素样式改变时的过渡动画效果,是以下4项属性的简写</p>
<ul>
<li>transition-property 属性名</li>
<li>transition-duration 过渡时间</li>
<li>transition-timing-function 过渡曲线</li>
<li>transition-delay 延迟</li>
</ul>
<h3 id="transition-property"><a class="markdownIt-Anchor" href="#transition-property"></a> transition-property</h3>
<p>指定过渡效果适用于哪些CSS属性名<br />
不设置transition-property,则默认给所有样式变化加上动画过渡效果</p>
<style>
.c-3 {width: 150px; transition-property: width; transition: 0.4s;}
.c-3:focus{width: 300px;}
</style>
<p><input class="c-3"></input></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.c-3</span> &#123;<span class="attribute">width</span>: <span class="number">150px</span>; <span class="attribute">transition-property</span>: width; <span class="attribute">transition</span>: <span class="number">0.4s</span>;&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.c-3</span><span class="selector-pseudo">:focus</span>&#123;<span class="attribute">width</span>: <span class="number">300px</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;c-3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="transition-timing-function"><a class="markdownIt-Anchor" href="#transition-timing-function"></a> transition-timing-function</h3>
<p>定义动画过渡曲线,接收以下值</p>
<ul>
<li>linear 匀速</li>
<li>ease 慢-快-慢(默认值)</li>
<li>ease-in 加速</li>
<li>ease-out 减速</li>
<li>ease-in-out 慢进慢出</li>
<li>cubic-beier 自定义 <a target="_blank" rel="noopener" href="http://cubic-bezier.com">cubic-bezier.com</a></li>
</ul>
<h3 id="transition-delay"><a class="markdownIt-Anchor" href="#transition-delay"></a> transition-delay</h3>
<p>设置过渡动画的延迟时间</p>
<style>
.c-5 {
    width: 50px;
    height: 50px;
    background: #eee;
    transition: 1s;    
    text-align:center;
    line-height:50px;
    white-space:nowrap;
    transition-delay:0.5s;
}
.c-5:hover {
    border-radius:100px;
    width:300px;
}
</style>
<div class="c-5">延迟0.5s</div>
<h2 id="animation"><a class="markdownIt-Anchor" href="#animation"></a> animation</h2>
<p>animation可以让元素从一种样式逐渐过渡到另一种样式</p>
<p>为了创建动画,需要先在@keyFrames规则中指定动画样式,然后将其绑定到元素上</p>
<h3 id="keyframes"><a class="markdownIt-Anchor" href="#keyframes"></a> @keyframes</h3>
<p>@keyframes有两种格式</p>
<pre><code>@keyframes *animationName*&#123;
    from &#123;&#125;
    to&#123;&#125;
&#125;
</code></pre>
<p>百分比格式可以更好的细分动画的过渡效果</p>
<pre><code>@keyframes *animationName*&#123;
    0% &#123;&#125;
    100% &#123;&#125;
&#125;
</code></pre>
<p>背景颜色切换</p>
<pre><code>body&#123;
    animation: changeColor 10s normal;
&#125;
@keyframes  changeColor &#123;
    from &#123;background: blue&#125;;
    to &#123;background: yellow&#125;
&#125;
</code></pre>
<h3 id="animation-2"><a class="markdownIt-Anchor" href="#animation-2"></a> animation</h3>
<p>animation: <em>keyframes-name</em> <em>duration</em> <em>timing-function</em> <em>delay</em> <em>count</em> <em>direction</em> <em>fill-mode</em>;</p>
<p>animation<br />
animation是以下属性的简写:</p>
<ul>
<li>animation-name  动画名</li>
<li>animation-duration 执行时间</li>
<li>animation-timing-function 速度曲线</li>
<li>animation-delay 延迟时间</li>
<li>animation-iteration-count 播放次数</li>
<li>animation-direction  否逆序播放</li>
<li>animation-fill-mode 动画结束后的状态</li>
</ul>
<h3 id="animation-timing-function"><a class="markdownIt-Anchor" href="#animation-timing-function"></a> animation-timing-function</h3>
<p>控制动画过渡的速度曲线,类似transition-timing-function<br />
animation-timing-function: linear | ease | ease-in| ease-out | cubic-bezier(n, n, n, n) | step(n, start|end) | step-start | step - end</p>
<p>注 step-start和step-end应用于拥有多个关键帧的动画<br />
关于steps|step-start|step-end的详细描述 见<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2018/06/css3-animation-steps-step-start-end/">CSS3 animation属性中的steps功能符深入介绍</a></p>
<div style="animation: run 2s linear infinite alternate;" class="show">linear</div>
<div style="animation: run 2s ease infinite alternate;" class="show">ease</div>
<div style="animation: run 2s ease-in infinite alternate;" class="show">ease-in</div>
<div style="animation: run 2s ease-out infinite alternate;" class="show">ease-out</div>
<div style="animation: run 2s ease-in-out infinite alternate;" class="show">ease-in-out</div>
<div style="animation: run 2s cubic-bezier(0,-0.01,1,.43)  infinite alternate;" class="show">cubic-bezier</div>
<div style="animation: run 2s steps(5, start) infinite alternate;" class="show">steps(5, start)</div>
<div style="animation: run 2s steps(5, end) infinite alternate;" class="show">steps(5, end)</div>
<div style="animation: run 2s step-start infinite alternate;" class="show">step-start</div>
<div style="animation: run 2s step-end infinite alternate;" class="show">step-end</div>
<h3 id="animation-iteration-count"><a class="markdownIt-Anchor" href="#animation-iteration-count"></a> animation-iteration-count</h3>
<p>设置动画的播放次数</p>
<ul>
<li>infinite 无限次</li>
<li><em>number</em> 按次数播放</li>
</ul>
<div style="animation: changeColor 2s 3;" class="show">播放3次</div>
<pre><code>animation: changeColor 2s 3;
</code></pre>
<div style="animation: changeColor 2s infinite;" class="show">永远播放</div>
<pre><code>animation: changeColor 2s infinite;
</code></pre>
<h3 id="animation-delay"><a class="markdownIt-Anchor" href="#animation-delay"></a> animation-delay</h3>
<p>设置动画延迟播放的时间</p>
<div style="animation: changeColor 2s linear 5s infinite;" class="show">延迟5s播放</div>
<pre><code>animation: changeColor 2s linear 5s infinite;
</code></pre>
<h3 id="animation-direction"><a class="markdownIt-Anchor" href="#animation-direction"></a> animation-direction</h3>
<p>设置动画向前/向后/轮流播放</p>
<ul>
<li>normal(默认值)</li>
<li>reverse 反向播放</li>
<li>alternate 先正向播放,然后反向播放,交替运行</li>
<li>alternate-reverse 先反向播放,然后正向播放,交替运行</li>
</ul>
<div style="animation: run 2s linear infinite;" class="show">normal</div>
<div style="animation: run 2s linear infinite reverse;" class="show">reverse</div>
<div style="animation: run 2s linear infinite alternate;" class="show">alternate</div>
<div style="animation: run 2s linear infinite alternate-reverse;" class="show">alternate-reverse</div>
<h3 id="animation-fill-mode"><a class="markdownIt-Anchor" href="#animation-fill-mode"></a> animation-fill-mode</h3>
<p>设置如何显示动画执行前/后的样式</p>
<ul>
<li>none(默认值)</li>
<li>forwards 动画结束后,显示动画的最后一帧</li>
<li>backwards 动画开始前,显示动画的第一帧</li>
<li>both 相当于同时设置了forwards和backwards</li>
</ul>
<p>关于animation-fill-mode的详细描述,见<a target="_blank" rel="noopener" href="https://www.w3cplus.com/css3/css-animation-fill-mode-property.html">你所不知道的animation-fill-mode细节</a><br />
下列3个方块的原始/动画开始/动画结束背景颜色分别为红/黄/绿,动画开始前均有2s延迟</p>
<div style="animation-fill-mode:none;" class="show fill-demo">none</div>
<div style="animation-fill-mode:forwards;" class="show fill-demo">forwards</div>
<div style="animation-fill-mode:backwards;" class="show fill-demo">backwards</div>
<div style="animation-fill-mode:both;" class="show fill-demo">both</div>
<button onclick="runFillDemo()">播放</button>
<h3 id="animation-play-state"><a class="markdownIt-Anchor" href="#animation-play-state"></a> animation-play-state</h3>
<p>播放/暂停动画</p>
<ul>
<li>running 播放</li>
<li>paused 暂停</li>
</ul>
<div style="animation: run 2s infinite;" class="show state-demo"></div>
<button onclick="run()">开始</button>
<button onclick="pause()">暂停</button>
<p>注意:如果动画播放完毕,则无法通过设置animation-play-state重新播放<br />
正确的做法是通过移除class再添加来重放动画<br />
而且添加class不能直接写在remove后边,要套个setTimeout才有效,不知道为什么</p>
<pre><code>    ele.classList.remove(&quot;name&quot;);
    //写在这里是无效的,动画不会播放
    //ele.classList.add(&quot;fill-demo&quot;);
    setTimeout((function()&#123;
        ele.classList.add(&quot;name&quot;);
    &#125;, 0);
</code></pre>
<style>
.show{
    width: 100px;
    height:50px;
    border:1px solid;
    font-size:16px;
    text-align:center;
    line-height:50px;
    white-space:nowrap;
}
@keyframes  changeColor {
    from {background: #fefefe;}
    to {background: #aaa;}
}
@keyframes run {
    0% {margin-left: 0;}
    50% {margin-left: 200px;}
    100% {margin-left: 400px;}
}
.fill-demo {
    animation: fill-mode 2s 2s forwards;
    background:red;
}

@keyframes fill-mode {
    from {margin-left: 0;
        background:yellow;
    }
    to {margin-left: 400px;
        background:green;
    }
}
</style>
<script>
var stateDemo = document.querySelector('.state-demo');
var run = function(){
    console.log(stateDemo);
    stateDemo.style.animationPlayState = 'running';
}
var pause = function(){
    stateDemo.style.animationPlayState = 'paused';
}

var fillDemoQueue = document.querySelectorAll(".fill-demo");
var runFillDemo = function(){
    for (var i = 0;i < fillDemoQueue.length; i++) {

        fillDemoQueue[i].classList.remove("fill-demo");
        //fillDemoQueue[i].classList.add("fill-demo");
        setTimeout((function(){
            var temp = fillDemoQueue[i];
            return function(){
                temp.classList.add("fill-demo");
            }
        })(),
        0);
        
    }
}
</script>
<h2 id="常用动画"><a class="markdownIt-Anchor" href="#常用动画"></a> 常用动画</h2>
<h3 id="搜索栏变宽"><a class="markdownIt-Anchor" href="#搜索栏变宽"></a> 搜索栏变宽</h3>
<style>
.c-6{
    width:100px;
    height:30px;
    border-radius:6px;
    transition: 0.5s ease-in;
    outline: none;
}
.c-6:focus {
    width:400px;
}
</style>
<p><input class="c-6"></input></p>
<pre><code>inputBox &#123;
    transition: 0.5s ease-in;
    width: 100px;
&#125;
:focus &#123;
    width:400px;
&#125;
</code></pre>
<h2 id="animatecss"><a class="markdownIt-Anchor" href="#animatecss"></a> animate.css</h2>
<p>animate是一个跨浏览器CSS动画库,支持多种效果<br />
<a target="_blank" rel="noopener" href="https://github.com/daneden/animate.css">下载地址</a></p>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
<style>
.c-7 {
    height:100px;
    overflow:hidden;
}
.c-7 div{
    width:100px;
    height:50px;
    background: #eee;
    text-align:center;
    line-height:50px;
    float:left;
}
</style>
<h3 id="载入动画库"><a class="markdownIt-Anchor" href="#载入动画库"></a> 载入动画库</h3>
<p>animate和普通外部css一样,可以用link标签直接载入.<br />
<head><br />
<link rel="stylesheet" href="animate.min.css"><br />
</head></p>
<p>或使用外部cdn载入</p>
<pre><code>&lt;head&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css&quot;&gt;
&lt;/head&gt;
</code></pre>
<h3 id="添加动画"><a class="markdownIt-Anchor" href="#添加动画"></a> 添加动画</h3>
<p>在元素的class中加入 &quot;animated&quot;和动画名,也可使用&quot;infinite&quot;让动画一直播放</p>
<pre><code>&lt;div class=&quot;animated bounce&quot;&gt;bounce&lt;/div&gt;
&lt;div class=&quot;animated infinite bounce&quot;&gt;bounce&lt;/div&gt;
</code></pre>
<div class="c-7">
    <div class="animated infinite bounce">bounce</div>
    <div class="animated infinite flash">flash</div>
    <div class="animated infinite bounceInUp">bounceInUp</div>
    <div class="animated infinite tada">tada</div>
</div>
<p>可用以下属性更改动画的持续时间/延迟/播放次数<br />
-vendor-animation-duration //单次动画持续时间<br />
-vendor-animation-delay // 延迟时间<br />
-vendor-animation-iteration-count //播放次数<br />
注意 vendor需换成浏览器前缀,如 webkit, moz, etc</p>
<pre><code>-webkit-animation-duration: 3s;
-webkit-animation-delay: 2s;
//一直播放
-webkit-animation-iteration-count: infinite;
//播放5次
-webkit-animation-iteration-count: 5;
//测试了chrome,其实不写前缀也能用
animation-iteration-count: 5;
</code></pre>
<p><a target="_blank" rel="noopener" href="https://daneden.github.io/animate.css/">更多效果见官方页面</a></p>
<h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2>
<p><a target="_blank" rel="noopener" href="https://www.w3cplus.com/css3/css-animation-fill-mode-property.html">你所不知道的animation-fill-mode细节</a><br />
<a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2018/06/css3-animation-steps-step-start-end/">CSS3 animation属性中的steps功能符深入介绍</a></p>

      </div>
    </article>
  </div>
  <!-- pagination -->
  
    <nav class="pagination">
      
        <a class="prev" href="/article/jQuery%E5%85%A5%E9%97%A8/">&lt;  jQuery入门</a>
      
      
        <a class="next" href="/article/%E5%9F%BA%E7%BA%BF%E4%B8%8Evertical-algin/">基线与vertical-algin  &gt;</a>
      
    </nav>    
  
  <!-- pagination end -->
</div>






    </main>

    <!-- search -->
     
    
    <script src="/js/main.js"></script>
     
  </body>
</html>
